---
import { certificates } from '@cv'

import Section from '@/components/Section.astro'
---

<Section title="Certificados">
    <ul class="certificates">
        {certificates.map(({ name, date, issuer, referenceCode }) => {
            const time = new Date(date).getFullYear()
            if (referenceCode == "") {
                return (
                    <li class="certificate-card">
                        <span class="certificate-name">{name}</span>
                        <time>{time}</time>
                        <p class="reference-code">{issuer}</p>
                    </li>
                )
            } else {
                return (
                    <li class="certificate-card">
                        <span class="certificate-name">{name}</span>
                        <time>{time}</time>
                        <p class="reference-code">{issuer} <br /> Referencia: {referenceCode}</p>
                    </li>
                )
            }
        })}
    </ul>
</Section>

<style>
    .certificates {
        display: grid;
        grid-template-columns: repeat(
            auto-fit,
            minmax(165px, 1fr)
        );
        gap: 10px;
        padding: 0;
        list-style: none;
        justify-content: center;
    }

    .certificate-card {
        border: 1px solid #ccc;
        padding: 4px 8px;
        margin-bottom: 6px;
        border-radius: 8px;
        display: flex;
        flex-direction: column;
        align-items: center;
        background: #ddd;
        color: #000;
        font-size: 1rem;
        font-weight: 500;
    }

    .certificate-name {
        font-weight: 600;
        text-align: center;
        font-size: 0.8rem;   
    }

    time {
        margin-top: 6px;
        color: #555;
        font-size: 0.9rem;
    }

    .reference-code {
        font-size: 0.6rem;
        list-style: none;
        padding: 0;
        margin-top: 6px;
        display: flex;
        flex-direction: column;
        gap: 4px;
        text-align: center;
    }
</style>